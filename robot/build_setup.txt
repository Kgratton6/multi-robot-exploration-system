# Source ROS 2 Humble setup
source /opt/ros/humble/setup.bash

# Install necessary ROS 2 packages
sudo apt-get install -y ros-humble-joint-state-publisher-gui ros-humble-rqt-robot-steering

# Install YDLidar SDK
git clone https://github.com/YDLIDAR/YDLidar-SDK.git
mkdir -p YDLidar-SDK/build
cd YDLidar-SDK/build
cmake ..
make
sudo make install
cd ../..
rm -rf YDLidar-SDK

# Build the project
sudo cp -r /opt/ros/humble/include/tf2_geometry_msgs/tf2_geometry_msgs /usr/local/include/
colcon build
source install/setup.bash

# Set permissions for devices
sudo chmod 666 /dev/ttyTHS1
sudo chmod 666 /dev/ttyUSB0

# Launch the robot
ros2 launch limo_base limo_base.launch.py